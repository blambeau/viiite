require File.expand_path("../foo", __FILE__)

# Class under benchmarking
foo = Foo.new

# Aaron's slides 151 -> 155
Bench.runner do |b|
  b.variation_point :ruby_version, Bench.short_ruby_descr
  b.range_over([10, 100, 1000, 10000, 100000], :runs) do |runs|
    b.variation_point :test, :bench_reader do
      b.report{ runs.times{ foo.bench_reader } }
    end
    b.variation_point :test, :bench_method do
      b.report{ runs.times{ foo.bench_method } }
    end
  end
end

